post:
  tags:
    - leads
  parameters:
    - in: body
      name: body
      required: true
      schema:
        add:
          type: array
          items:
            name:
              type: string
            created_at:
              type: string
            updated_at:
              type: string
            status_id:
              type: integer
            responsible_user_id:
              type: integer
            sale:
              type: integer
            tags:
              type: array
              items:
                type: string
            contacts_id:
              type: array
              items:
                type: integer
            company_id:
              type: integer
            catalog_elements_id:
              type: object
            custom_fields:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                  values:
                    type: array
                    items:
                      allOf:
                        - type: string
                        - type: object
                          properties:
                            value:
                              type: string
                            subtype:
                              type: string
                            enum:
                              type: string

        update:
          type: array
          items:
            id:
              type: integer

            name:
              type: string
            created_at:
              type: string
            updated_at:
              type: string
            status_id:
              type: integer
            responsible_user_id:
              type: integer
            sale:
              type: integer
            tags:
              type: array
              items:
                type: string
            contacts_id:
              type: array
              items:
                type: integer
            company_id:
              type: integer
            custom_fields:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                  values:
                    type: array
                    items:
                      allOf:
                        - type: string
                        - type: object
                          properties:
                            value:
                              type: string
                            subtype:
                              type: string
                            enum:
                              type: string
            unlink:
              type: array
              items:
                type: object
                properties:
                  contacts_id:
                    type: integer
                  company_id:
                    type: array
                    items:
                      type: integer

  responses:
    200:
      description: "Success"
      schema:
        type: object
        properties:
          _embedded:
            type: object
            properties:
              items:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    request_id:
                      type: integer
                    _link:
                      type: object
                      properties:
                        self:
                          type: object
                          properties:
                            href:
                              type: string
                            method:
                              type: string

get:
  tags:
    - leads
  parameters:
    - name: id
      in: query
      required: false
      type: array
      items:
        type: string
      collectionFormat: csv
    - name: limit_rows
      in: query
      required: false
      type: integer
    - name: limit_offset
      in: query
      required: false
      type: integer
    - name: query
      in: query
      required: false
      type: string
    - name: responsible_user_id
      in: query
      required: false
      type: integer
    - name: with
      in: query
      required: false
      type: array
      items:
        enum:
          - is_price_modified_by_robot
          - loss_reason_name
          - only_deleted
          - catalog_elements_links
      collectionFormat: csv
    - name: status
      in: query
      required: false
      type: array
      items:
        type: integer
      collectionFormat: csv
  responses:
    200:
      schema:
        type: object
        properties:
          _embedded:
            type: object
            properties:
              items:
                type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      responsible_user_id:
                        type: integer
                      created_by:
                        type: integer
                      created_at:
                        type: integer
                      updated_by:
                        type: integer
                      updated_at:
                        type: integer
                      account_id:
                        type: integer
                      is_deleted:
                        type: boolean
                      main_contact:
                        type: object
                        properties:
                          id:
                            type: integer
                          _links:
                            type: object
                            properties:
                              self:
                                type: object
                                properties:
                                  href:
                                    type: string
                                  method:
                                    type: string
                      group_id:
                        type: integer
                      company:
                        type: object
                        properties:
                          id:
                            type: integer
                          name:
                            type: string
                          _links:
                            type: object
                            properties:
                              self:
                                type: object
                                properties:
                                  href:
                                    type: string
                                  method:
                                    type: string
                      closed_at:
                        type: integer
                      closest_task_at:
                        type: integer
                      tags:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                            name:
                              type: string
                      custom_fields:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                            name:
                              type: string
                            values:
                              type: array
                              items:
                                type: object
                                properties:
                                  value:
                                    type: string
                                  enum:
                                    type: integer
                            is_system:
                              type: boolean
                      contacts:
                        type: object
                        properties:
                          id:
                            type: array
                            items:
                              type: integer

                          _links:
                            type: object
                            properties:
                              self:
                                type: object
                                properties:
                                  href:
                                    type: string
                                  method:
                                    type: string
                      status_id:
                         type: integer

                      sale:
                        type: integer

                      pipeline:
                        type: object
                        properties:
                          id:
                            type: integer

                          _links:
                            type: object
                            properties:
                              self:
                                type: object
                                properties:
                                  href:
                                    type: string
                                  method:
                                    type: string
                      _links:
                        type: object
                        properties:
                          self:
                            type: object
                            properties:
                              href:
                                type: string
                              method:
                                type: string
    401:
      description: "Общая ошибка авторизации. Неправильный логин или пароль."










