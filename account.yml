get:
  tags:
    - "account"
  parameters:
    - name: with
      description: "Если в параметре with указать значения, в ответ придёт информация из аккаунта
          по соответствующему значению."
      in: query
      required: false
      type: array
      items:
        enum:
          - users
          - custom_fields
          - pipelines
          - groups
          - note_types
          - task_types
      collectionFormat: csv
  security:
    - Bearer: []
  responses:
    200:
      description: "Через API вы можете получить необходимую информацию по аккаунту: название, оплаченный период,
          пользователи аккаунта и их права, справочники дополнительных полей контактов и сделок, справочник статусов
          сделок, справочник типов событий, справочник типов задач и другие параметры аккаунта."
      schema:
        Account:
          type: object
          properties:
            id:
              type: integer

            name:
              type: string
            subdomain:
              type: string
            currency:
              type: string
            timezone:
              type: string
            timezone_offset:
              type: string
            language:
              type: string
            date_pattern:
              type: object
              properties:
                date:
                  type: string
                date_time:
                  type: string
                time:
                  type: string
                time_full:
                  type: string
            current_user:
              type: integer

            _embedded:
              type: object
              properties:
                users:
                  type: array
                  items:
                    $ref: "#/User"
                custom_fields:
                  type: object
                  properties:
                    catalogs:
                      type: array
                      items:
                        type: array
                        items:
                          $ref: "#/CustomField"
                    companies:
                      type: array
                      items:
                        $ref: "#/CustomField"
                    contacts:
                      type: array
                      items:
                        $ref: "#/CustomField"
                    customers:
                      type: array
                      items:
                        $ref: "#/CustomField"
                    leads:
                      type: array
                      items:
                        $ref: "#/CustomField"

                groups:
                  type: array
                  items:
                    $ref: "#/Group"
                note_types:
                  type: array
                  items:
                    $ref: "#/NoteType"
                pipelines:
                  type: array
                  items:
                    $ref: "#/Pipeline"
                task_type:
                  type: array
                  items:
                    $ref: "#/TaskType"

    401:
      description: "Общая ошибка авторизации. Неправильный логин или пароль."
User:
  type: object
  properties:
    id:
      type: integer

    group_id:
      type: integer

    is_active:
      type: boolean
    is_admin:
      type: boolean
    is_free:
      type: boolean
    languange:
      type: string
    last_name:
      type: string
    login:
      type: string
    name:
      type: string
    phone_number:
      type: string
    rights:
      type: object

CustomField:
  type: object
  properties:
    id:
      type: integer

    code:
      type: string
    enums:
      type: object
    field_type:
      type: integer

    is_deletable:
      type: boolean
    is_editable:
      type: boolean
    is_multiple:
      type: boolean
    is_required:
      type: boolean
    is_system:
      type: boolean
    is_visible:
      type: boolean
    name:
      type: string
    params:
      type: object
    sort:
      type: integer


Group:
  type: object
  properties:
    id:
      type: integer

    name:
      type: string

NoteType:
  type: object
  properties:
    id:
      type: integer

    code:
      type: string
    is_editable:
      type: boolean

Pipeline:
  type: object
  properties:
    id:
      type: integer

    is_main:
      type: boolean
    name:
      type: string
    sort:
      type: integer

    statuses:
      type: array
      items:
        id:
          type: integer

        name:
          type: string
        color:
          type: string
        is_editable:
          type: boolean
        sort:
          type: integer


TaskType:
  type: object
  properties:
    id:
      type: integer

    name:
      type: string
    icon_id:
      type: integer

    color:
      type: string
